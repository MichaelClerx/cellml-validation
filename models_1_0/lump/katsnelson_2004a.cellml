<?xml version="1.0"?>
<!--
This CellML file was generated on 14.09.2009 at 23:27:34 using:

COR (0.9.31.1319)
Copyright 2002-2009 Dr Alan Garny
http://cor.physiol.ox.ac.uk/ - cor@physiol.ox.ac.uk

CellML 1.0 was used to generate this model
http://www.cellml.org/
-->
<model xmlns="http://www.cellml.org/cellml/1.0#" xmlns:cmeta="http://www.cellml.org/metadata/1.0#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:bqs="http://www.cellml.org/bqs/1.0#" xmlns:cellml="http://www.cellml.org/cellml/1.0#" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" cmeta:id="katsnelson_2004" name="katsnelson_2004">

	<documentation xmlns="http://cellml.org/tmp-documentation">
		<article>
			<articleinfo>
				<title>Influence of viscosity on myocardium mechanical activity: a mathematical model</title>
				<author>
					<firstname>Geoffrey</firstname>
					<surname>Nunns</surname>
					<affiliation>
						<shortaffil>Auckland Bioengineering Institute, The University of Auckland</shortaffil>
					</affiliation>
				</author>
			</articleinfo>
			<section id="sec_status">
				<title>Model Status</title>
				<para>
        This model has been checked and it runs in both COR and PCEnv to recreate the published results. Units are consistent throughout.  In this particular version of the model, time is expressed in milliseconds and all calcium variables and parameters have been normalized to the total concentration of TnC (parameter A_tot).        
          </para>
		  <para>
		  With default setting the model produce isometric contraction (parameter isotonic=0). To switch from isomentric mode to isotonic mode isotonic parameter should be set 1. Then set parameter F_afterload to the value less then the maximum force calculated at isometric mode. Make sure that the model is run in isometric mode first and see the value of the maximum of isometric force. If F_afterload is not less than this value, model performs isometric mode instead of isotonic.
          </para>
			</section>
			<sect1 id="sec_structure">
				<title>Model Structure</title>
				<para>
Abstract: We have previously proposed and validated a mathematical model of myocardium contraction-relaxation cycle based on current knowledge of regulatory role of Ca2+ and cross-bridge kinetics in cardiac cell. That model did not include viscous elements. Here we propose a modification of the model, in which two viscous elements are added, one in parallel to the contractile element, and one more in parallel to the series elastic element. The modified model allowed us to simulate and explain some subtle experimental data on relaxation velocity in isotonic twitches and on a mismatch between the time course of sarcomere shortening/lengthening and the time course of active force generation in isometric twitches. Model results were compared with experimental data obtained from 28 rat LV papillary muscles contracting and relaxing against various loads. Additional model analysis suggested contribution of viscosity to main inotropic and lusitropic characteristics of myocardium performance.   
</para>
				<para>
					<informalfigure float="0" id="fig_reaction_diagram">
						<mediaobject>
							<imageobject>
								<objectinfo>
									<title>model diagram</title>
								</objectinfo>
								<imagedata fileref="katsnelson_2004.png"/>
							</imageobject>
						</mediaobject>
						<caption>Schematic diagram of the Katsnelson et al model - an updated rheological scheme of the heart muscle including
contractile element CE, two passive elastic elements PE (parallel one) and SE (series one) and two viscous elements VS1 and VS2. The effect of calcium and the calcium binding ligand (B) in facilitating actin-myosin binding is also highlighted.</caption>
					</informalfigure>
				</para>
				<para>
The original paper reference is cited below:
</para>
				<para>
					Influence of viscosity on myocardium mechanical activity: a mathematical model, Leonid B. Katsnelson, Larissa V. Nikitina, Denis Chemla, Olga Solovyova, Catherine Coirault, Yves Lecarpentier and Vladimir S. Markhasin, 2004,
						<emphasis>Journal of Theoretical Biology</emphasis>, 230, 385-485.  <ulink url="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=Retrieve&amp;db=PubMed&amp;list_uids=15302547&amp;dopt=Abstract">PubMed ID: 15302547     </ulink>
				</para>
			</sect1>
		</article>
	</documentation>
	
	<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
		<rdf:Seq rdf:about="rdf:#edd290fd-de23-4ec1-b5c1-4ad92741f561">
			<rdf:li rdf:resource="rdf:#b7e37085-15d0-4095-ab26-914877d77498"/>
			<rdf:li rdf:resource="rdf:#3f822535-dbd8-449a-a09d-8386592ee27d"/>
			<rdf:li rdf:resource="rdf:#7cf93199-6787-4b80-9eb1-d953e4ad54d9"/>
			<rdf:li rdf:resource="rdf:#c53c5039-770d-4100-aba8-6a3306988dab"/>
			<rdf:li rdf:resource="rdf:#082af15a-ea22-40e3-9c60-9ed939bad185"/>
			<rdf:li rdf:resource="rdf:#3c9d2952-aac4-400b-be04-f19d626b81c3"/>
			<rdf:li rdf:resource="rdf:#5c54917b-f474-4e9f-a443-bcfb360ac686"/>
		</rdf:Seq>
		<rdf:Description rdf:about="rdf:#c53c5039-770d-4100-aba8-6a3306988dab">
			<rdf:type rdf:resource="http://www.cellml.org/bqs/1.0#Person"/>
			<vCard:N xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:resource="rdf:#eaf42a79-ba32-41ac-9b1a-c827a042bd19"/>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#d942f499-6045-4dbc-94d7-1d95d51628c3">
			<dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/" rdf:resource="rdf:#243c9d21-1989-414e-b3ea-b4554f4be6ed"/>
			<rdf:value>This model runs in PCEnv, but does not recreate the published results. Units are consistent throughout.</rdf:value>
		</rdf:Description>
		<rdf:Description rdf:about="">
		    <dc:title xmlns:dc="http://purl.org/dc/elements/1.1/">Time is expressed in milliseconds, calcium variables and parameters are normalised to total TnC concentration.</dc:title>
			<dc:publisher xmlns:dc="http://purl.org/dc/elements/1.1/"/>
			<cmeta:comment rdf:resource="rdf:#1d3ec125-676c-4f64-9780-9dec442a2ee1"/>
			<dcterms:created xmlns:dcterms="http://purl.org/dc/terms/" rdf:resource="rdf:#3ed98b9f-a45e-44fc-8ef3-a66076176b2f"/>
			<dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/" rdf:resource="rdf:#890a545d-f012-4f7c-ac05-094710c42c09"/>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#082af15a-ea22-40e3-9c60-9ed939bad185">
			<rdf:type rdf:resource="http://www.cellml.org/bqs/1.0#Person"/>
			<vCard:N xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:resource="rdf:#82faf1f8-df66-4646-8681-681e83fc2920"/>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#26625cf7-b781-42be-a46d-3ab34002434c">
			<dc:title xmlns:dc="http://purl.org/dc/elements/1.1/">Journal of Theoretical Biology</dc:title>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#7dc01a73-ec48-4d1c-9b00-cd8ac3c38da0">
			<bqs:Pubmed_id xmlns:bqs="http://www.cellml.org/bqs/1.0#">15302547</bqs:Pubmed_id>
			<bqs:JournalArticle xmlns:bqs="http://www.cellml.org/bqs/1.0#" rdf:resource="rdf:#54cbbe1a-f9e6-410e-a09e-c3265f856c59"/>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#5c54917b-f474-4e9f-a443-bcfb360ac686">
			<rdf:type rdf:resource="http://www.cellml.org/bqs/1.0#Person"/>
			<vCard:N xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:resource="rdf:#a6038160-96dd-408d-8175-7ce58ab3bbd9"/>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#b7e37085-15d0-4095-ab26-914877d77498">
			<rdf:type rdf:resource="http://www.cellml.org/bqs/1.0#Person"/>
			<vCard:N xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:resource="rdf:#a18d7e3d-01f1-448a-8640-46c1d50f8d52"/>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#7cf93199-6787-4b80-9eb1-d953e4ad54d9">
			<rdf:type rdf:resource="http://www.cellml.org/bqs/1.0#Person"/>
			<vCard:N xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:resource="rdf:#13ab787a-968a-4ca1-9c91-b67aa5292762"/>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#3c9d2952-aac4-400b-be04-f19d626b81c3">
			<rdf:type rdf:resource="http://www.cellml.org/bqs/1.0#Person"/>
			<vCard:N xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:resource="rdf:#479cc7f2-261c-48a7-8a56-690066697521"/>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#3ed98b9f-a45e-44fc-8ef3-a66076176b2f">
			<dcterms:W3CDTF xmlns:dcterms="http://purl.org/dc/terms/">2008-07-17T00:00:00+12:00</dcterms:W3CDTF>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#890a545d-f012-4f7c-ac05-094710c42c09">
			<vCard:ORG xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:resource="rdf:#91ad59e8-ad0f-4d55-b14e-c3113907c39e"/>
			<vCard:EMAIL xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:resource="rdf:#db3bc023-0337-4389-8685-36eaba9ca536"/>
			<vCard:N xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:resource="rdf:#47bb5b5a-7ed4-405b-88a5-3f64926e56aa"/>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#a6cc2bf7-59f3-45e0-87e1-44505f54ae20">
			<vCard:FN xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Geoff Nunns</vCard:FN>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#54cbbe1a-f9e6-410e-a09e-c3265f856c59">
			<dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/" rdf:resource="rdf:#edd290fd-de23-4ec1-b5c1-4ad92741f561"/>
			<dc:title xmlns:dc="http://purl.org/dc/elements/1.1/">Influence of viscosity on myocardium mechanical activity: a mathematical model</dc:title>
			<bqs:volume xmlns:bqs="http://www.cellml.org/bqs/1.0#">230</bqs:volume>
			<bqs:first_page xmlns:bqs="http://www.cellml.org/bqs/1.0#">385</bqs:first_page>
			<bqs:Journal xmlns:bqs="http://www.cellml.org/bqs/1.0#" rdf:resource="rdf:#26625cf7-b781-42be-a46d-3ab34002434c"/>
			<dcterms:issued xmlns:dcterms="http://purl.org/dc/terms/" rdf:resource="rdf:#840515cb-cecf-4839-aec0-a263c94219db"/>
			<bqs:last_page xmlns:bqs="http://www.cellml.org/bqs/1.0#">405</bqs:last_page>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#1d3ec125-676c-4f64-9780-9dec442a2ee1">
			<dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/" rdf:resource="rdf:#a6cc2bf7-59f3-45e0-87e1-44505f54ae20"/>
			<rdf:value>This model runs in PCEnv, but does not recreate the published results. Units are consistent throughout.</rdf:value>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#13ab787a-968a-4ca1-9c91-b67aa5292762">
			<vCard:Given xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Denis </vCard:Given>
			<vCard:Family xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Chemla</vCard:Family>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#db3bc023-0337-4389-8685-36eaba9ca536">
			<rdf:type rdf:resource="http://imc.org/vCard/3.0#internet"/>
			<rdf:value>gnunns1@jhem.jhu.edu</rdf:value>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#243c9d21-1989-414e-b3ea-b4554f4be6ed">
			<vCard:FN xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Geoff Nunns</vCard:FN>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#82faf1f8-df66-4646-8681-681e83fc2920">
			<vCard:Given xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Catherine </vCard:Given>
			<vCard:Family xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Coirault</vCard:Family>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#c2dc8317-7436-4562-89d2-94c1e58601f9">
			<vCard:Given xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Larissa</vCard:Given>
			<vCard:Family xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Nikitina</vCard:Family>
			<vCard:Other xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">V</vCard:Other>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#840515cb-cecf-4839-aec0-a263c94219db">
			<dcterms:W3CDTF xmlns:dcterms="http://purl.org/dc/terms/">2004-00-00 00:00</dcterms:W3CDTF>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#479cc7f2-261c-48a7-8a56-690066697521">
			<vCard:Given xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Yves </vCard:Given>
			<vCard:Family xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Lecarpentier</vCard:Family>
		</rdf:Description>
		<rdf:Description rdf:about="#katsnelson_2004">
			<bqs:reference xmlns:bqs="http://www.cellml.org/bqs/1.0#" rdf:resource="rdf:#7dc01a73-ec48-4d1c-9b00-cd8ac3c38da0"/>
		<bqs:reference xmlns:bqs="http://www.cellml.org/bqs/1.0#" rdf:parseType="Resource">
  			<dc:subject xmlns:dc="http://purl.org/dc/elements/1.1/" rdf:parseType="Resource">
    				<bqs:subject_type>keyword</bqs:subject_type>
    					<rdf:value>
      					<rdf:Bag>
        			<rdf:li>cardiac</rdf:li>
        			<rdf:li>electrophysiology</rdf:li>
        			<rdf:li>viscosity</rdf:li>
				<rdf:li>calcium dynamics</rdf:li>
      			</rdf:Bag>
   		 </rdf:value>
  		</dc:subject>
		</bqs:reference>
			<cmeta:comment rdf:resource="rdf:#d942f499-6045-4dbc-94d7-1d95d51628c3"/>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#3f822535-dbd8-449a-a09d-8386592ee27d">
			<rdf:type rdf:resource="http://www.cellml.org/bqs/1.0#Person"/>
			<vCard:N xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:resource="rdf:#c2dc8317-7436-4562-89d2-94c1e58601f9"/>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#47bb5b5a-7ed4-405b-88a5-3f64926e56aa">
			<vCard:Given xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Geoffrey</vCard:Given>
			<vCard:Family xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Nunns</vCard:Family>
			<vCard:Other xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Rogan</vCard:Other>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#a6038160-96dd-408d-8175-7ce58ab3bbd9">
			<vCard:Given xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Vladimir </vCard:Given>
			<vCard:Family xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Markhasin</vCard:Family>
			<vCard:Other xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">S</vCard:Other>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#eaf42a79-ba32-41ac-9b1a-c827a042bd19">
			<vCard:Given xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Olga </vCard:Given>
			<vCard:Family xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Solovyova</vCard:Family>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#91ad59e8-ad0f-4d55-b14e-c3113907c39e">
			<vCard:Orgname xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">The University of Auckland</vCard:Orgname>
			<vCard:Orgunit xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Auckland Bioengineering Institute</vCard:Orgunit>
		</rdf:Description>
		<rdf:Description rdf:about="rdf:#a18d7e3d-01f1-448a-8640-46c1d50f8d52">
			<vCard:Given xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Leonid</vCard:Given>
			<vCard:Family xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Katsnelson</vCard:Family>
			<vCard:Other xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">B</vCard:Other>
		</rdf:Description>
		
		<!--
        The Modification History metadata. This lists the changes that have been
        made to the document, who made the changes, and when they were made.
      -->
	  <rdf:Description rdf:about="">
      <cmeta:modification rdf:parseType="Resource">
        <rdf:value>
          Extensively edited the model such that it now runs correctly to reproduce the published results
        </rdf:value>
        <cmeta:modifier rdf:parseType="Resource">
          <vCard:N xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:parseType="Resource">
            <vCard:Family>Solovyova</vCard:Family>
            <vCard:Given>Olga</vCard:Given>
          </vCard:N>
        </cmeta:modifier>
		<vCard:EMAIL xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:parseType="Resource">
          <rdf:value>o.solovyova@iip.uran.ru</rdf:value>
          <rdf:type rdf:resource="http://imc.org/vCard/3.0#internet"/>
        </vCard:EMAIL>
        <dcterms:modified xmlns:dcterms="http://purl.org/dc/terms/" rdf:parseType="Resource"> 
          <dcterms:W3CDTF>2009-09-28</dcterms:W3CDTF>
        </dcterms:modified>
      </cmeta:modification>
	  </rdf:Description>
	</rdf:RDF>
   
	
   <units name="millisecond">
      <unit prefix="milli" units="second"/>
   </units>
   <units name="per_millisecond">
      <unit exponent="-1" units="millisecond"/>
   </units>
   <units name="per_millisecond2">
      <unit exponent="-2" units="millisecond"/>
   </units>
   <units name="um">
      <unit prefix="micro" units="meter"/>
   </units>
   <units name="um_per_msec">
      <unit units="um"/>
      <unit units="per_millisecond"/>
   </units>
   <units name="um_per_msec2">
      <unit units="um"/>
      <unit units="per_millisecond2"/>
   </units>
   <units name="per_um">
      <unit exponent="-1" units="um"/>
   </units>
   <units name="msec_per_um">
      <unit units="millisecond"/>
      <unit units="per_um"/>
   </units>
   <units name="mN">
      <unit prefix="milli" units="newton"/>
   </units>
   <units name="mN_per_msec">
      <unit prefix="milli" units="newton"/>
      <unit units="per_millisecond"/>
   </units>
   <units name="mN_msec_per_um">
      <unit units="mN"/>
      <unit units="msec_per_um"/>
   </units>
   <component name="environment">
      <variable cmeta:id="environment_time" name="time" public_interface="out" units="millisecond"/>
   </component>
   <component name="parameters">
      <variable initial_value="0" name="isotonic" public_interface="out" units="dimensionless"/>
      <variable initial_value="19" name="alpha_1" public_interface="out" units="per_um"/>
      <variable initial_value="0.29" name="beta_1" public_interface="out" units="mN"/>
      <variable initial_value="14.6" name="alpha_2" public_interface="out" units="per_um"/>
      <variable initial_value="0.000924" name="beta_2" public_interface="out" units="mN"/>
      <variable initial_value="48" name="alpha_3" public_interface="out" units="per_um"/>
      <variable initial_value="0.01" name="beta_3" public_interface="out" units="mN"/>
      <variable initial_value="96" name="lambda" public_interface="out" units="mN"/>
      <variable initial_value="0.6" name="A_half" public_interface="out" units="dimensionless"/>
      <variable initial_value="3" name="mu" public_interface="out" units="dimensionless"/>
      <variable initial_value="0.705" name="chi" public_interface="out" units="dimensionless"/>
      <variable initial_value="3" name="chi_0" public_interface="out" units="dimensionless"/>
      <variable initial_value="0.9" name="m_0" public_interface="out" units="dimensionless"/>
      <variable initial_value="0.0056" name="v_max" public_interface="out" units="um_per_msec"/>
      <variable initial_value="0.25" name="a" public_interface="out" units="dimensionless"/>
      <variable initial_value="0.5" name="d_h" public_interface="out" units="dimensionless"/>
      <variable initial_value="4" name="alpha_P" public_interface="out" units="dimensionless"/>
   </component>
   <component name="isotonic">
      <variable name="time" public_interface="in" units="millisecond"/>
      <variable name="isotonic" public_interface="in" units="dimensionless"/>
      <variable name="l" public_interface="in" units="um"/>
      <variable name="F_muscle" public_interface="in" units="mN"/>
      <variable name="flag" units="dimensionless"/>
      <variable initial_value="2" name="F_afterload" units="mN"/>
      <variable name="isotonic_mode" public_interface="out" units="dimensionless"/>
      <variable initial_value="0.527" name="l_0" units="um"/>
      <math xmlns="http://www.w3.org/1998/Math/MathML">
         <apply>
            <eq/>
            <ci>flag</ci>
            <piecewise>
               <piece>
                  <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0</cn>
                  <apply>
                     <and/>
                     <apply>
                        <geq/>
                        <ci>l</ci>
                        <ci>l_0</ci>
                     </apply>
                     <apply>
                        <lt/>
                        <ci>time</ci>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="millisecond">150</cn>
                     </apply>
                  </apply>
               </piece>
               <otherwise>
                  <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
               </otherwise>
            </piecewise>
         </apply>
         <apply>
            <eq/>
            <ci>isotonic_mode</ci>
            <piecewise>
               <piece>
                  <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0</cn>
                  <apply>
                     <eq/>
                     <ci>isotonic</ci>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0</cn>
                  </apply>
               </piece>
               <piece>
                  <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                  <apply>
                     <and/>
                     <apply>
                        <eq/>
                        <ci>isotonic</ci>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                     </apply>
                     <apply>
                        <geq/>
                        <ci>F_muscle</ci>
                        <ci>F_afterload</ci>
                     </apply>
                  </apply>
               </piece>
               <piece>
                  <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0</cn>
                  <apply>
                     <and/>
                     <apply>
                        <eq/>
                        <ci>isotonic</ci>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                     </apply>
                     <apply>
                        <geq/>
                        <ci>l</ci>
                        <ci>l_0</ci>
                     </apply>
                     <apply>
                        <eq/>
                        <ci>flag</ci>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                     </apply>
                  </apply>
               </piece>
            </piecewise>
         </apply>
      </math>
   </component>
   <component name="parameters_izakov_et_al_1991">
      <variable initial_value="1.14" name="S_0" public_interface="out" units="um"/>
      <variable name="q_v" public_interface="out" units="per_millisecond"/>
      <variable initial_value="0.0173" name="q_1" units="per_millisecond"/>
      <variable initial_value="0.259" name="q_2" units="per_millisecond"/>
      <variable initial_value="0.0173" name="q_3" units="per_millisecond"/>
      <variable initial_value="0.015" name="q_4" public_interface="out" units="per_millisecond"/>
      <variable initial_value="0.0053035675" name="v_star" public_interface="out" units="um_per_msec"/>
      <variable name="v_1" public_interface="out" units="um_per_msec"/>
      <variable initial_value="1" name="alpha_G" public_interface="out" units="dimensionless"/>
      <variable initial_value="2.3" name="a_on" public_interface="out" units="per_millisecond"/>
      <variable initial_value="0.29" name="a_off" public_interface="out" units="per_millisecond"/>
      <variable initial_value="2.8" name="k_A" public_interface="out" units="dimensionless"/>
      <variable name="v" public_interface="in" units="um_per_msec"/>
      <variable name="v_max" public_interface="in" units="um_per_msec"/>
      <variable initial_value="10" name="alpha_Q" units="dimensionless"/>
      <variable initial_value="5000" name="beta_Q" units="dimensionless"/>
      <math xmlns="http://www.w3.org/1998/Math/MathML">
         <apply>
            <eq/>
            <ci>q_v</ci>
            <piecewise>
               <piece>
                  <apply>
                     <minus/>
                     <ci>q_1</ci>
                     <apply>
                        <divide/>
                        <apply>
                           <times/>
                           <ci>q_2</ci>
                           <ci>v</ci>
                        </apply>
                        <ci>v_max</ci>
                     </apply>
                  </apply>
                  <apply>
                     <leq/>
                     <ci>v</ci>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="um_per_msec">0</cn>
                  </apply>
               </piece>
               <piece>
                  <apply>
                     <plus/>
                     <apply>
                        <divide/>
                        <apply>
                           <times/>
                           <apply>
                              <minus/>
                              <ci>q_4</ci>
                              <ci>q_3</ci>
                           </apply>
                           <ci>v</ci>
                        </apply>
                        <ci>v_star</ci>
                     </apply>
                     <ci>q_3</ci>
                  </apply>
                  <apply>
                     <and/>
                     <apply>
                        <leq/>
                        <ci>v</ci>
                        <ci>v_star</ci>
                     </apply>
                     <apply>
                        <lt/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="um_per_msec">0</cn>
                        <ci>v</ci>
                     </apply>
                  </apply>
               </piece>
               <otherwise>
                  <apply>
                     <divide/>
                     <ci>q_4</ci>
                     <apply>
                        <power/>
                        <apply>
                           <plus/>
                           <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                           <apply>
                              <divide/>
                              <apply>
                                 <times/>
                                 <ci>beta_Q</ci>
                                 <apply>
                                    <minus/>
                                    <ci>v</ci>
                                    <ci>v_star</ci>
                                 </apply>
                              </apply>
                              <ci>v_max</ci>
                           </apply>
                        </apply>
                        <ci>alpha_Q</ci>
                     </apply>
                  </apply>
               </otherwise>
            </piecewise>
         </apply>
         <apply>
            <eq/>
            <ci>v_1</ci>
            <apply>
               <divide/>
               <ci>v_max</ci>
               <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">10</cn>
            </apply>
         </apply>
      </math>
   </component>
   <component name="force">
      <variable cmeta:id="force_F_CE" name="F_CE" units="mN"/>
      <variable name="F_muscle" public_interface="out" units="mN"/>
      <variable cmeta:id="force_F_XSE" name="F_XSE" units="mN"/>
      <variable cmeta:id="force_F_SE" name="F_SE" units="mN"/>
      <variable cmeta:id="force_F_PE" name="F_PE" units="mN"/>
      <variable name="N" public_interface="in" units="dimensionless"/>
      <variable name="k_P_vis" public_interface="in" units="mN_msec_per_um"/>
      <variable name="k_S_vis" public_interface="in" units="mN_msec_per_um"/>
      <variable name="w" public_interface="in" units="um_per_msec"/>
      <variable name="v" public_interface="in" units="um_per_msec"/>
      <variable name="l_1" public_interface="in" units="um"/>
      <variable name="l_2" public_interface="in" units="um"/>
      <variable name="l_3" public_interface="in" units="um"/>
      <variable name="p_v" public_interface="in" units="dimensionless"/>
      <variable name="alpha_1" public_interface="in" units="per_um"/>
      <variable name="beta_1" public_interface="in" units="mN"/>
      <variable name="alpha_2" public_interface="in" units="per_um"/>
      <variable name="beta_2" public_interface="in" units="mN"/>
      <variable name="alpha_3" public_interface="in" units="per_um"/>
      <variable name="beta_3" public_interface="in" units="mN"/>
      <variable name="lambda" public_interface="in" units="mN"/>
      <math xmlns="http://www.w3.org/1998/Math/MathML">
         <apply>
            <eq/>
            <ci>F_CE</ci>
            <apply>
               <times/>
               <ci>lambda</ci>
               <ci>p_v</ci>
               <ci>N</ci>
            </apply>
         </apply>
         <apply>
            <eq/>
            <ci>F_muscle</ci>
            <ci>F_XSE</ci>
         </apply>
         <apply>
            <eq/>
            <ci>F_SE</ci>
            <apply>
               <times/>
               <ci>beta_1</ci>
               <apply>
                  <minus/>
                  <apply>
                     <exp/>
                     <apply>
                        <times/>
                        <ci>alpha_1</ci>
                        <apply>
                           <minus/>
                           <ci>l_2</ci>
                           <ci>l_1</ci>
                        </apply>
                     </apply>
                  </apply>
                  <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
               </apply>
            </apply>
         </apply>
         <apply>
            <eq/>
            <ci>F_PE</ci>
            <apply>
               <times/>
               <ci>beta_2</ci>
               <apply>
                  <minus/>
                  <apply>
                     <exp/>
                     <apply>
                        <times/>
                        <ci>alpha_2</ci>
                        <ci>l_2</ci>
                     </apply>
                  </apply>
                  <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
               </apply>
            </apply>
         </apply>
         <apply>
            <eq/>
            <ci>F_XSE</ci>
            <apply>
               <times/>
               <ci>beta_3</ci>
               <apply>
                  <minus/>
                  <apply>
                     <exp/>
                     <apply>
                        <times/>
                        <ci>alpha_3</ci>
                        <ci>l_3</ci>
                     </apply>
                  </apply>
                  <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
               </apply>
            </apply>
         </apply>
      </math>
   </component>
   <component name="crossbridge_kinetics">
      <variable initial_value="0.0001" name="N" public_interface="out" units="dimensionless"/>
      <variable name="K_chi" public_interface="out" units="per_millisecond"/>
      <variable name="M_A" units="dimensionless"/>
      <variable name="n_1" units="dimensionless"/>
      <variable name="L_oz" public_interface="out" units="dimensionless"/>
      <variable name="k_p_v" units="per_millisecond"/>
      <variable name="k_m_v" units="per_millisecond"/>
      <variable name="time" public_interface="in" units="millisecond"/>
      <variable name="A" public_interface="in" units="dimensionless"/>
      <variable name="l_1" public_interface="in" units="um"/>
      <variable name="A_half" public_interface="in" units="dimensionless"/>
      <variable name="mu" public_interface="in" units="dimensionless"/>
      <variable name="chi" public_interface="in" units="dimensionless"/>
      <variable name="chi_0" public_interface="in" units="dimensionless"/>
      <variable name="m_0" public_interface="in" units="dimensionless"/>
      <variable name="S_0" public_interface="in" units="um"/>
      <variable name="q_v" public_interface="in" units="per_millisecond"/>
      <variable name="v" public_interface="in" units="um_per_msec"/>
      <variable name="v_star" public_interface="in" units="um_per_msec"/>
      <variable name="G_star" public_interface="in" units="dimensionless"/>
      <variable name="P_star" public_interface="in" units="dimensionless"/>
      <variable name="q_4" public_interface="in" units="per_millisecond"/>
      <variable initial_value="0.0056" name="v_0" units="um_per_msec"/>
      <variable initial_value="1" name="q_star" units="per_millisecond"/>
      <math xmlns="http://www.w3.org/1998/Math/MathML">
         <apply>
            <eq/>
            <ci>M_A</ci>
            <apply>
               <divide/>
               <apply>
                  <power/>
                  <ci>A</ci>
                  <ci>mu</ci>
               </apply>
               <apply>
                  <plus/>
                  <apply>
                     <power/>
                     <ci>A</ci>
                     <ci>mu</ci>
                  </apply>
                  <apply>
                     <power/>
                     <ci>A_half</ci>
                     <ci>mu</ci>
                  </apply>
               </apply>
            </apply>
         </apply>
         <apply>
            <eq/>
            <ci>n_1</ci>
            <apply>
               <plus/>
               <apply>
                  <times/>
                  <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="per_um">0.6</cn>
                  <ci>l_1</ci>
               </apply>
               <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0.5</cn>
            </apply>
         </apply>
         <apply>
            <eq/>
            <ci>L_oz</ci>
            <apply>
               <divide/>
               <apply>
                  <plus/>
                  <ci>l_1</ci>
                  <ci>S_0</ci>
               </apply>
               <apply>
                  <plus/>
                  <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="um">0.46</cn>
                  <ci>S_0</ci>
               </apply>
            </apply>
         </apply>
         <apply>
            <eq/>
            <ci>k_p_v</ci>
            <apply>
               <times/>
               <ci>chi</ci>
               <ci>chi_0</ci>
               <ci>q_v</ci>
               <ci>m_0</ci>
               <ci>G_star</ci>
            </apply>
         </apply>
         <apply>
            <eq/>
            <ci>k_m_v</ci>
            <piecewise>
               <piece>
                  <apply>
                     <times/>
                     <ci>chi_0</ci>
                     <ci>q_v</ci>
                     <apply>
                        <minus/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                        <apply>
                           <times/>
                           <ci>chi</ci>
                           <ci>m_0</ci>
                           <ci>G_star</ci>
                        </apply>
                     </apply>
                  </apply>
                  <apply>
                     <leq/>
                     <ci>v</ci>
                     <ci>v_star</ci>
                  </apply>
               </piece>
               <otherwise>
                  <apply>
                     <times/>
                     <ci>chi_0</ci>
                     <apply>
                        <plus/>
                        <apply>
                           <times/>
                           <ci>q_4</ci>
                           <apply>
                              <minus/>
                              <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                              <apply>
                                 <times/>
                                 <ci>chi</ci>
                                 <ci>m_0</ci>
                                 <ci>G_star</ci>
                              </apply>
                           </apply>
                        </apply>
                        <apply>
                           <divide/>
                           <apply>
                              <times/>
                              <ci>q_star</ci>
                              <apply>
                                 <minus/>
                                 <ci>v</ci>
                                 <ci>v_star</ci>
                              </apply>
                           </apply>
                           <apply>
                              <minus/>
                              <ci>v_0</ci>
                              <ci>v_star</ci>
                           </apply>
                        </apply>
                     </apply>
                  </apply>
               </otherwise>
            </piecewise>
         </apply>
         <apply>
            <eq/>
            <ci>K_chi</ci>
            <apply>
               <minus/>
               <apply>
                  <times/>
                  <ci>k_p_v</ci>
                  <ci>M_A</ci>
                  <ci>n_1</ci>
                  <ci>L_oz</ci>
                  <apply>
                     <minus/>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                     <ci>N</ci>
                  </apply>
               </apply>
               <apply>
                  <times/>
                  <ci>k_m_v</ci>
                  <ci>N</ci>
               </apply>
            </apply>
         </apply>
         <apply>
            <eq/>
            <apply>
               <diff/>
               <bvar>
                  <ci>time</ci>
               </bvar>
               <ci>N</ci>
            </apply>
            <ci>K_chi</ci>
         </apply>
      </math>
   </component>
   <component name="length">
      <variable name="dl_1_dt" public_interface="out" units="um_per_msec"/>
      <variable initial_value="0.437" name="l_1" public_interface="out" units="um"/>
      <variable name="dl_2_dt" public_interface="out" units="um_per_msec"/>
      <variable initial_value="0.439" name="l_2" public_interface="out" units="um"/>
      <variable name="dl_3_dt" public_interface="out" units="um_per_msec"/>
      <variable initial_value="0.089" name="l_3" public_interface="out" units="um"/>
      <variable name="time" public_interface="in" units="millisecond"/>
      <variable name="isotonic_mode" public_interface="in" units="dimensionless"/>
      <variable name="v" public_interface="in" units="um_per_msec"/>
      <variable name="w" public_interface="in" units="um_per_msec"/>
      <variable name="l" public_interface="out" units="um"/>
      <variable name="k_S_vis" public_interface="in" units="mN_msec_per_um"/>
      <variable name="phi_chi_2" public_interface="in" units="um_per_msec"/>
      <math xmlns="http://www.w3.org/1998/Math/MathML">
         <apply>
            <eq/>
            <ci>l</ci>
            <apply>
               <plus/>
               <ci>l_2</ci>
               <ci>l_3</ci>
            </apply>
         </apply>
         <apply>
            <eq/>
            <ci>dl_1_dt</ci>
            <ci>v</ci>
         </apply>
         <apply>
            <eq/>
            <apply>
               <diff/>
               <bvar>
                  <ci>time</ci>
               </bvar>
               <ci>l_1</ci>
            </apply>
            <ci>dl_1_dt</ci>
         </apply>
         <apply>
            <eq/>
            <ci>dl_2_dt</ci>
            <piecewise>
               <piece>
                  <ci>phi_chi_2</ci>
                  <apply>
                     <eq/>
                     <ci>k_S_vis</ci>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="mN_msec_per_um">0</cn>
                  </apply>
               </piece>
               <otherwise>
                  <ci>w</ci>
               </otherwise>
            </piecewise>
         </apply>
         <apply>
            <eq/>
            <apply>
               <diff/>
               <bvar>
                  <ci>time</ci>
               </bvar>
               <ci>l_2</ci>
            </apply>
            <ci>dl_2_dt</ci>
         </apply>
         <apply>
            <eq/>
            <ci>dl_3_dt</ci>
            <piecewise>
               <piece>
                  <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="um_per_msec">0</cn>
                  <apply>
                     <eq/>
                     <ci>isotonic_mode</ci>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                  </apply>
               </piece>
               <piece>
                  <apply>
                     <minus/>
                     <ci>phi_chi_2</ci>
                  </apply>
                  <apply>
                     <and/>
                     <apply>
                        <eq/>
                        <ci>isotonic_mode</ci>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0</cn>
                     </apply>
                     <apply>
                        <eq/>
                        <ci>k_S_vis</ci>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="mN_msec_per_um">0</cn>
                     </apply>
                  </apply>
               </piece>
               <otherwise>
                  <apply>
                     <minus/>
                     <ci>w</ci>
                  </apply>
               </otherwise>
            </piecewise>
         </apply>
         <apply>
            <eq/>
            <apply>
               <diff/>
               <bvar>
                  <ci>time</ci>
               </bvar>
               <ci>l_3</ci>
            </apply>
            <ci>dl_3_dt</ci>
         </apply>
      </math>
   </component>
   <component name="CE_velocity">
      <variable initial_value="0" name="v" public_interface="out" units="um_per_msec"/>
      <variable name="phi_chi" public_interface="out" units="um_per_msec2"/>
      <variable name="phi_chi_2" public_interface="out" units="um_per_msec"/>
      <variable name="k_P_vis" public_interface="out" units="mN_msec_per_um"/>
      <variable name="k_S_vis" public_interface="in" units="mN_msec_per_um"/>
      <variable name="time" public_interface="in" units="millisecond"/>
      <variable name="w" public_interface="in" units="um_per_msec"/>
      <variable name="K_chi" public_interface="in" units="per_millisecond"/>
      <variable name="N" public_interface="in" units="dimensionless"/>
      <variable name="l_1" public_interface="in" units="um"/>
      <variable name="dl_1_dt" public_interface="in" units="um_per_msec"/>
      <variable name="l_2" public_interface="in" units="um"/>
      <variable name="l_3" public_interface="in" units="um"/>
      <variable name="alpha_1" public_interface="in" units="per_um"/>
      <variable name="beta_1" public_interface="in" units="mN"/>
      <variable name="alpha_2" public_interface="in" units="per_um"/>
      <variable name="beta_2" public_interface="in" units="mN"/>
      <variable name="alpha_3" public_interface="in" units="per_um"/>
      <variable name="beta_3" public_interface="in" units="mN"/>
      <variable name="lambda" public_interface="in" units="mN"/>
      <variable name="isotonic_mode" public_interface="in" units="dimensionless"/>
      <variable name="p_v" public_interface="in" units="dimensionless"/>
      <variable name="p_prime_v" public_interface="in" units="msec_per_um"/>
      <variable initial_value="16" name="alpha_P_lengthening" units="per_um"/>
      <variable initial_value="1.5" name="beta_P_lengthening" units="mN_msec_per_um"/>
      <variable initial_value="16" name="alpha_P_shortening" units="per_um"/>
      <variable initial_value="1.5" name="beta_P_shortening" units="mN_msec_per_um"/>
      <variable name="alp_p" units="per_um"/>
      <math xmlns="http://www.w3.org/1998/Math/MathML">
         <apply>
            <eq/>
            <ci>alp_p</ci>
            <piecewise>
               <piece>
                  <ci>alpha_P_lengthening</ci>
                  <apply>
                     <leq/>
                     <ci>v</ci>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="um_per_msec">0</cn>
                  </apply>
               </piece>
               <otherwise>
                  <ci>alpha_P_shortening</ci>
               </otherwise>
            </piecewise>
         </apply>
         <apply>
            <eq/>
            <ci>k_P_vis</ci>
            <piecewise>
               <piece>
                  <apply>
                     <times/>
                     <ci>beta_P_lengthening</ci>
                     <apply>
                        <exp/>
                        <apply>
                           <times/>
                           <ci>alpha_P_lengthening</ci>
                           <ci>l_1</ci>
                        </apply>
                     </apply>
                  </apply>
                  <apply>
                     <leq/>
                     <ci>v</ci>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="um_per_msec">0</cn>
                  </apply>
               </piece>
               <otherwise>
                  <apply>
                     <times/>
                     <ci>beta_P_shortening</ci>
                     <apply>
                        <exp/>
                        <apply>
                           <times/>
                           <ci>alpha_P_shortening</ci>
                           <ci>l_1</ci>
                        </apply>
                     </apply>
                  </apply>
               </otherwise>
            </piecewise>
         </apply>
         <apply>
            <eq/>
            <ci>phi_chi</ci>
            <piecewise>
               <piece>
                  <apply>
                     <divide/>
                     <apply>
                        <minus/>
                        <apply>
                           <plus/>
                           <apply>
                              <times/>
                              <ci>lambda</ci>
                              <ci>K_chi</ci>
                              <ci>p_v</ci>
                           </apply>
                           <apply>
                              <times/>
                              <ci>alp_p</ci>
                              <ci>k_P_vis</ci>
                              <apply>
                                 <power/>
                                 <ci>v</ci>
                                 <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">2</cn>
                              </apply>
                           </apply>
                           <apply>
                              <times/>
                              <ci>alpha_2</ci>
                              <ci>beta_2</ci>
                              <apply>
                                 <exp/>
                                 <apply>
                                    <times/>
                                    <ci>alpha_2</ci>
                                    <ci>l_2</ci>
                                 </apply>
                              </apply>
                              <ci>w</ci>
                           </apply>
                        </apply>
                     </apply>
                     <apply>
                        <plus/>
                        <apply>
                           <times/>
                           <ci>lambda</ci>
                           <ci>N</ci>
                           <ci>p_prime_v</ci>
                        </apply>
                        <ci>k_P_vis</ci>
                     </apply>
                  </apply>
                  <apply>
                     <eq/>
                     <ci>isotonic_mode</ci>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                  </apply>
               </piece>
               <otherwise>
                  <apply>
                     <divide/>
                     <apply>
                        <minus/>
                        <apply>
                           <plus/>
                           <apply>
                              <times/>
                              <ci>lambda</ci>
                              <ci>K_chi</ci>
                              <ci>p_v</ci>
                           </apply>
                           <apply>
                              <times/>
                              <ci>alp_p</ci>
                              <ci>k_P_vis</ci>
                              <apply>
                                 <power/>
                                 <ci>v</ci>
                                 <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">2</cn>
                              </apply>
                           </apply>
                           <apply>
                              <times/>
                              <apply>
                                 <plus/>
                                 <apply>
                                    <times/>
                                    <ci>alpha_2</ci>
                                    <ci>beta_2</ci>
                                    <apply>
                                       <exp/>
                                       <apply>
                                          <times/>
                                          <ci>alpha_2</ci>
                                          <ci>l_2</ci>
                                       </apply>
                                    </apply>
                                 </apply>
                                 <apply>
                                    <times/>
                                    <ci>alpha_3</ci>
                                    <ci>beta_3</ci>
                                    <apply>
                                       <exp/>
                                       <apply>
                                          <times/>
                                          <ci>alpha_3</ci>
                                          <ci>l_3</ci>
                                       </apply>
                                    </apply>
                                 </apply>
                              </apply>
                              <ci>w</ci>
                           </apply>
                        </apply>
                     </apply>
                     <apply>
                        <plus/>
                        <apply>
                           <times/>
                           <ci>lambda</ci>
                           <ci>N</ci>
                           <ci>p_prime_v</ci>
                        </apply>
                        <ci>k_P_vis</ci>
                     </apply>
                  </apply>
               </otherwise>
            </piecewise>
         </apply>
         <apply>
            <eq/>
            <ci>phi_chi_2</ci>
            <piecewise>
               <piece>
                  <apply>
                     <divide/>
                     <apply>
                        <times/>
                        <ci>alpha_1</ci>
                        <ci>beta_1</ci>
                        <apply>
                           <exp/>
                           <apply>
                              <times/>
                              <ci>alpha_1</ci>
                              <apply>
                                 <minus/>
                                 <ci>l_2</ci>
                                 <ci>l_1</ci>
                              </apply>
                           </apply>
                        </apply>
                        <ci>v</ci>
                     </apply>
                     <apply>
                        <plus/>
                        <apply>
                           <times/>
                           <ci>alpha_1</ci>
                           <ci>beta_1</ci>
                           <apply>
                              <exp/>
                              <apply>
                                 <times/>
                                 <ci>alpha_1</ci>
                                 <apply>
                                    <minus/>
                                    <ci>l_2</ci>
                                    <ci>l_1</ci>
                                 </apply>
                              </apply>
                           </apply>
                        </apply>
                        <apply>
                           <times/>
                           <ci>alpha_2</ci>
                           <ci>beta_2</ci>
                           <apply>
                              <exp/>
                              <apply>
                                 <times/>
                                 <ci>alpha_2</ci>
                                 <ci>l_2</ci>
                              </apply>
                           </apply>
                        </apply>
                     </apply>
                  </apply>
                  <apply>
                     <eq/>
                     <ci>isotonic_mode</ci>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                  </apply>
               </piece>
               <otherwise>
                  <apply>
                     <divide/>
                     <apply>
                        <times/>
                        <ci>alpha_1</ci>
                        <ci>beta_1</ci>
                        <apply>
                           <exp/>
                           <apply>
                              <times/>
                              <ci>alpha_1</ci>
                              <apply>
                                 <minus/>
                                 <ci>l_2</ci>
                                 <ci>l_1</ci>
                              </apply>
                           </apply>
                        </apply>
                        <ci>v</ci>
                     </apply>
                     <apply>
                        <plus/>
                        <apply>
                           <times/>
                           <ci>alpha_1</ci>
                           <ci>beta_1</ci>
                           <apply>
                              <exp/>
                              <apply>
                                 <times/>
                                 <ci>alpha_1</ci>
                                 <apply>
                                    <minus/>
                                    <ci>l_2</ci>
                                    <ci>l_1</ci>
                                 </apply>
                              </apply>
                           </apply>
                        </apply>
                        <apply>
                           <times/>
                           <ci>alpha_2</ci>
                           <ci>beta_2</ci>
                           <apply>
                              <exp/>
                              <apply>
                                 <times/>
                                 <ci>alpha_2</ci>
                                 <ci>l_2</ci>
                              </apply>
                           </apply>
                        </apply>
                        <apply>
                           <times/>
                           <ci>alpha_3</ci>
                           <ci>beta_3</ci>
                           <apply>
                              <exp/>
                              <apply>
                                 <times/>
                                 <ci>alpha_3</ci>
                                 <ci>l_3</ci>
                              </apply>
                           </apply>
                        </apply>
                     </apply>
                  </apply>
               </otherwise>
            </piecewise>
         </apply>
         <apply>
            <eq/>
            <apply>
               <diff/>
               <bvar>
                  <ci>time</ci>
               </bvar>
               <ci>v</ci>
            </apply>
            <piecewise>
               <piece>
                  <apply>
                     <divide/>
                     <apply>
                        <minus/>
                        <apply>
                           <times/>
                           <ci>alpha_1</ci>
                           <ci>beta_1</ci>
                           <apply>
                              <exp/>
                              <apply>
                                 <times/>
                                 <ci>alpha_1</ci>
                                 <apply>
                                    <minus/>
                                    <ci>l_2</ci>
                                    <ci>l_1</ci>
                                 </apply>
                              </apply>
                           </apply>
                           <apply>
                              <minus/>
                              <ci>phi_chi_2</ci>
                              <ci>v</ci>
                           </apply>
                        </apply>
                        <apply>
                           <plus/>
                           <apply>
                              <times/>
                              <ci>lambda</ci>
                              <ci>K_chi</ci>
                              <ci>p_v</ci>
                           </apply>
                           <apply>
                              <times/>
                              <ci>alp_p</ci>
                              <ci>k_P_vis</ci>
                              <apply>
                                 <power/>
                                 <ci>v</ci>
                                 <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">2</cn>
                              </apply>
                           </apply>
                        </apply>
                     </apply>
                     <apply>
                        <plus/>
                        <apply>
                           <times/>
                           <ci>lambda</ci>
                           <ci>N</ci>
                           <ci>p_prime_v</ci>
                        </apply>
                        <ci>k_P_vis</ci>
                     </apply>
                  </apply>
                  <apply>
                     <eq/>
                     <ci>k_S_vis</ci>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="mN_msec_per_um">0</cn>
                  </apply>
               </piece>
               <otherwise>
                  <ci>phi_chi</ci>
               </otherwise>
            </piecewise>
         </apply>
      </math>
   </component>
   <component name="PE_velocity">
      <variable initial_value="0" name="w" public_interface="out" units="um_per_msec"/>
      <variable name="k_S_vis" public_interface="out" units="mN_msec_per_um"/>
      <variable name="time" public_interface="in" units="millisecond"/>
      <variable name="v" public_interface="in" units="um_per_msec"/>
      <variable name="phi_chi" public_interface="in" units="um_per_msec2"/>
      <variable name="l_1" public_interface="in" units="um"/>
      <variable name="dl_1_dt" public_interface="in" units="um_per_msec"/>
      <variable name="l_2" public_interface="in" units="um"/>
      <variable name="dl_2_dt" public_interface="in" units="um_per_msec"/>
      <variable name="l_3" public_interface="in" units="um"/>
      <variable name="alpha_1" public_interface="in" units="per_um"/>
      <variable name="beta_1" public_interface="in" units="mN"/>
      <variable name="alpha_2" public_interface="in" units="per_um"/>
      <variable name="beta_2" public_interface="in" units="mN"/>
      <variable name="alpha_3" public_interface="in" units="per_um"/>
      <variable name="beta_3" public_interface="in" units="mN"/>
      <variable name="lambda" public_interface="in" units="mN"/>
      <variable name="isotonic_mode" public_interface="in" units="dimensionless"/>
      <variable initial_value="39" name="alpha_S_lengthening" units="per_um"/>
      <variable initial_value="8" name="beta_S_lengthening" units="mN_msec_per_um"/>
      <variable initial_value="46" name="alpha_S_shortening" units="per_um"/>
      <variable initial_value="6" name="beta_S_shortening" units="mN_msec_per_um"/>
      <variable name="alp_s" units="per_um"/>
      <math xmlns="http://www.w3.org/1998/Math/MathML">
         <apply>
            <eq/>
            <ci>alp_s</ci>
            <piecewise>
               <piece>
                  <ci>alpha_S_lengthening</ci>
                  <apply>
                     <leq/>
                     <ci>w</ci>
                     <ci>v</ci>
                  </apply>
               </piece>
               <otherwise>
                  <ci>alpha_S_shortening</ci>
               </otherwise>
            </piecewise>
         </apply>
         <apply>
            <eq/>
            <ci>k_S_vis</ci>
            <piecewise>
               <piece>
                  <apply>
                     <times/>
                     <ci>beta_S_lengthening</ci>
                     <apply>
                        <exp/>
                        <apply>
                           <times/>
                           <ci>alpha_S_lengthening</ci>
                           <apply>
                              <minus/>
                              <ci>l_2</ci>
                              <ci>l_1</ci>
                           </apply>
                        </apply>
                     </apply>
                  </apply>
                  <apply>
                     <leq/>
                     <ci>w</ci>
                     <ci>v</ci>
                  </apply>
               </piece>
               <otherwise>
                  <apply>
                     <times/>
                     <ci>beta_S_shortening</ci>
                     <apply>
                        <exp/>
                        <apply>
                           <times/>
                           <ci>alpha_S_shortening</ci>
                           <apply>
                              <minus/>
                              <ci>l_2</ci>
                              <ci>l_1</ci>
                           </apply>
                        </apply>
                     </apply>
                  </apply>
               </otherwise>
            </piecewise>
         </apply>
         <apply>
            <eq/>
            <apply>
               <diff/>
               <bvar>
                  <ci>time</ci>
               </bvar>
               <ci>w</ci>
            </apply>
            <piecewise>
               <piece>
                  <apply>
                     <divide/>
                     <apply>
                        <minus/>
                        <apply>
                           <minus/>
                           <apply>
                              <times/>
                              <ci>k_S_vis</ci>
                              <apply>
                                 <minus/>
                                 <ci>phi_chi</ci>
                                 <apply>
                                    <times/>
                                    <ci>alp_s</ci>
                                    <apply>
                                       <power/>
                                       <apply>
                                          <minus/>
                                          <ci>w</ci>
                                          <ci>v</ci>
                                       </apply>
                                       <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">2</cn>
                                    </apply>
                                 </apply>
                              </apply>
                           </apply>
                           <apply>
                              <times/>
                              <ci>alpha_1</ci>
                              <ci>beta_1</ci>
                              <apply>
                                 <exp/>
                                 <apply>
                                    <times/>
                                    <ci>alpha_1</ci>
                                    <apply>
                                       <minus/>
                                       <ci>l_2</ci>
                                       <ci>l_1</ci>
                                    </apply>
                                 </apply>
                              </apply>
                              <apply>
                                 <minus/>
                                 <ci>w</ci>
                                 <ci>v</ci>
                              </apply>
                           </apply>
                        </apply>
                        <apply>
                           <times/>
                           <ci>alpha_2</ci>
                           <ci>beta_2</ci>
                           <apply>
                              <exp/>
                              <apply>
                                 <times/>
                                 <ci>alpha_2</ci>
                                 <ci>l_2</ci>
                              </apply>
                           </apply>
                           <ci>w</ci>
                        </apply>
                     </apply>
                     <ci>k_S_vis</ci>
                  </apply>
                  <apply>
                     <eq/>
                     <ci>isotonic_mode</ci>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                  </apply>
               </piece>
               <otherwise>
                  <apply>
                     <minus/>
                     <apply>
                        <minus/>
                        <ci>phi_chi</ci>
                        <apply>
                           <times/>
                           <ci>alp_s</ci>
                           <apply>
                              <power/>
                              <apply>
                                 <minus/>
                                 <ci>w</ci>
                                 <ci>v</ci>
                              </apply>
                              <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">2</cn>
                           </apply>
                        </apply>
                     </apply>
                     <apply>
                        <divide/>
                        <apply>
                           <plus/>
                           <apply>
                              <times/>
                              <ci>alpha_1</ci>
                              <ci>beta_1</ci>
                              <apply>
                                 <exp/>
                                 <apply>
                                    <times/>
                                    <ci>alpha_1</ci>
                                    <apply>
                                       <minus/>
                                       <ci>l_2</ci>
                                       <ci>l_1</ci>
                                    </apply>
                                 </apply>
                              </apply>
                              <apply>
                                 <minus/>
                                 <ci>w</ci>
                                 <ci>v</ci>
                              </apply>
                           </apply>
                           <apply>
                              <times/>
                              <apply>
                                 <plus/>
                                 <apply>
                                    <times/>
                                    <ci>alpha_2</ci>
                                    <ci>beta_2</ci>
                                    <apply>
                                       <exp/>
                                       <apply>
                                          <times/>
                                          <ci>alpha_2</ci>
                                          <ci>l_2</ci>
                                       </apply>
                                    </apply>
                                 </apply>
                                 <apply>
                                    <times/>
                                    <ci>alpha_3</ci>
                                    <ci>beta_3</ci>
                                    <apply>
                                       <exp/>
                                       <apply>
                                          <times/>
                                          <ci>alpha_3</ci>
                                          <ci>l_3</ci>
                                       </apply>
                                    </apply>
                                 </apply>
                              </apply>
                              <ci>w</ci>
                           </apply>
                        </apply>
                        <ci>k_S_vis</ci>
                     </apply>
                  </apply>
               </otherwise>
            </piecewise>
         </apply>
      </math>
   </component>
   <component name="average_crossbridge_force">
      <variable name="p_v" public_interface="out" units="dimensionless"/>
      <variable name="p_prime_v" public_interface="out" units="msec_per_um"/>
      <variable name="P_star" public_interface="out" units="dimensionless"/>
      <variable name="G_star" public_interface="out" units="dimensionless"/>
      <variable name="gamma" units="dimensionless"/>
      <variable name="case_1" units="msec_per_um"/>
      <variable name="case_2" units="msec_per_um"/>
      <variable name="case_3" units="msec_per_um"/>
      <variable name="case_4" units="msec_per_um"/>
      <variable name="v" public_interface="in" units="um_per_msec"/>
      <variable name="phi_chi" public_interface="in" units="um_per_msec2"/>
      <variable name="v_1" public_interface="in" units="um_per_msec"/>
      <variable name="v_max" public_interface="in" units="um_per_msec"/>
      <variable name="a" public_interface="in" units="dimensionless"/>
      <variable name="d_h" public_interface="in" units="dimensionless"/>
      <variable name="alpha_G" public_interface="in" units="dimensionless"/>
      <variable name="alpha_P" public_interface="in" units="dimensionless"/>
      <math xmlns="http://www.w3.org/1998/Math/MathML">
         <apply>
            <eq/>
            <ci>gamma</ci>
            <apply>
               <divide/>
               <apply>
                  <times/>
                  <ci>a</ci>
                  <ci>d_h</ci>
                  <apply>
                     <power/>
                     <apply>
                        <divide/>
                        <ci>v_1</ci>
                        <ci>v_max</ci>
                     </apply>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">2</cn>
                  </apply>
               </apply>
               <apply>
                  <minus/>
                  <apply>
                     <times/>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">3</cn>
                     <ci>a</ci>
                     <ci>d_h</ci>
                  </apply>
                  <apply>
                     <divide/>
                     <apply>
                        <times/>
                        <apply>
                           <plus/>
                           <ci>a</ci>
                           <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                        </apply>
                        <ci>v_1</ci>
                     </apply>
                     <ci>v_max</ci>
                  </apply>
               </apply>
            </apply>
         </apply>
         <apply>
            <eq/>
            <ci>P_star</ci>
            <piecewise>
               <piece>
                  <apply>
                     <divide/>
                     <apply>
                        <times/>
                        <ci>a</ci>
                        <apply>
                           <plus/>
                           <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                           <apply>
                              <divide/>
                              <ci>v</ci>
                              <ci>v_max</ci>
                           </apply>
                        </apply>
                     </apply>
                     <apply>
                        <minus/>
                        <ci>a</ci>
                        <apply>
                           <divide/>
                           <ci>v</ci>
                           <ci>v_max</ci>
                        </apply>
                     </apply>
                  </apply>
                  <apply>
                     <leq/>
                     <ci>v</ci>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="um_per_msec">0</cn>
                  </apply>
               </piece>
               <otherwise>
                  <apply>
                     <minus/>
                     <apply>
                        <plus/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                        <ci>d_h</ci>
                     </apply>
                     <apply>
                        <divide/>
                        <apply>
                           <times/>
                           <apply>
                              <power/>
                              <ci>d_h</ci>
                              <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">2</cn>
                           </apply>
                           <ci>a</ci>
                        </apply>
                        <apply>
                           <plus/>
                           <apply>
                              <times/>
                              <apply>
                                 <divide/>
                                 <apply>
                                    <times/>
                                    <ci>a</ci>
                                    <ci>d_h</ci>
                                 </apply>
                                 <ci>gamma</ci>
                              </apply>
                              <apply>
                                 <power/>
                                 <apply>
                                    <divide/>
                                    <ci>v</ci>
                                    <ci>v_max</ci>
                                 </apply>
                                 <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">2</cn>
                              </apply>
                           </apply>
                           <apply>
                              <divide/>
                              <apply>
                                 <times/>
                                 <apply>
                                    <plus/>
                                    <ci>a</ci>
                                    <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                                 </apply>
                                 <ci>v</ci>
                              </apply>
                              <ci>v_max</ci>
                           </apply>
                           <apply>
                              <times/>
                              <ci>a</ci>
                              <ci>d_h</ci>
                           </apply>
                        </apply>
                     </apply>
                  </apply>
               </otherwise>
            </piecewise>
         </apply>
         <apply>
            <eq/>
            <ci>G_star</ci>
            <piecewise>
               <piece>
                  <apply>
                     <plus/>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                     <apply>
                        <divide/>
                        <apply>
                           <times/>
                           <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0.6</cn>
                           <ci>v</ci>
                        </apply>
                        <ci>v_max</ci>
                     </apply>
                  </apply>
                  <apply>
                     <and/>
                     <apply>
                        <leq/>
                        <apply>
                           <minus/>
                           <ci>v_max</ci>
                        </apply>
                        <ci>v</ci>
                     </apply>
                     <apply>
                        <leq/>
                        <ci>v</ci>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="um_per_msec">0</cn>
                     </apply>
                  </apply>
               </piece>
               <piece>
                  <apply>
                     <divide/>
                     <ci>P_star</ci>
                     <apply>
                        <plus/>
                        <apply>
                           <divide/>
                           <apply>
                              <times/>
                              <apply>
                                 <plus/>
                                 <apply>
                                    <times/>
                                    <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0.4</cn>
                                    <ci>a</ci>
                                 </apply>
                                 <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                              </apply>
                              <ci>v</ci>
                           </apply>
                           <apply>
                              <times/>
                              <ci>a</ci>
                              <ci>v_max</ci>
                           </apply>
                        </apply>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                     </apply>
                  </apply>
                  <apply>
                     <and/>
                     <apply>
                        <lt/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="um_per_msec">0</cn>
                        <ci>v</ci>
                     </apply>
                     <apply>
                        <leq/>
                        <ci>v</ci>
                        <ci>v_1</ci>
                     </apply>
                  </apply>
               </piece>
               <otherwise>
                  <apply>
                     <divide/>
                     <apply>
                        <times/>
                        <ci>P_star</ci>
                        <apply>
                           <exp/>
                           <apply>
                              <times/>
                              <apply>
                                 <minus/>
                                 <ci>alpha_G</ci>
                              </apply>
                              <apply>
                                 <power/>
                                 <apply>
                                    <divide/>
                                    <apply>
                                       <minus/>
                                       <ci>v</ci>
                                       <ci>v_1</ci>
                                    </apply>
                                    <ci>v_max</ci>
                                 </apply>
                                 <ci>alpha_P</ci>
                              </apply>
                           </apply>
                        </apply>
                     </apply>
                     <apply>
                        <plus/>
                        <apply>
                           <divide/>
                           <apply>
                              <times/>
                              <apply>
                                 <plus/>
                                 <apply>
                                    <times/>
                                    <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0.4</cn>
                                    <ci>a</ci>
                                 </apply>
                                 <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                              </apply>
                              <ci>v</ci>
                           </apply>
                           <apply>
                              <times/>
                              <ci>a</ci>
                              <ci>v_max</ci>
                           </apply>
                        </apply>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                     </apply>
                  </apply>
               </otherwise>
            </piecewise>
         </apply>
         <apply>
            <eq/>
            <ci>case_1</ci>
            <apply>
               <divide/>
               <apply>
                  <times/>
                  <ci>a</ci>
                  <apply>
                     <plus/>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0.4</cn>
                     <apply>
                        <times/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0.4</cn>
                        <ci>a</ci>
                     </apply>
                  </apply>
               </apply>
               <apply>
                  <times/>
                  <ci>v_max</ci>
                  <apply>
                     <power/>
                     <apply>
                        <times/>
                        <apply>
                           <plus/>
                           <ci>a</ci>
                           <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                        </apply>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0.4</cn>
                     </apply>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">2</cn>
                  </apply>
               </apply>
            </apply>
         </apply>
         <apply>
            <eq/>
            <ci>case_2</ci>
            <apply>
               <divide/>
               <apply>
                  <times/>
                  <ci>a</ci>
                  <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                  <apply>
                     <plus/>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                     <apply>
                        <times/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0.4</cn>
                        <ci>a</ci>
                     </apply>
                     <apply>
                        <divide/>
                        <apply>
                           <times/>
                           <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1.2</cn>
                           <ci>v</ci>
                        </apply>
                        <ci>v_max</ci>
                     </apply>
                     <apply>
                        <times/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0.6</cn>
                        <apply>
                           <power/>
                           <apply>
                              <divide/>
                              <ci>v</ci>
                              <ci>v_max</ci>
                           </apply>
                           <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">2</cn>
                        </apply>
                     </apply>
                  </apply>
               </apply>
               <apply>
                  <times/>
                  <ci>v_max</ci>
                  <apply>
                     <power/>
                     <apply>
                        <times/>
                        <apply>
                           <minus/>
                           <ci>a</ci>
                           <apply>
                              <divide/>
                              <ci>v</ci>
                              <ci>v_max</ci>
                           </apply>
                        </apply>
                        <apply>
                           <plus/>
                           <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                           <apply>
                              <divide/>
                              <apply>
                                 <times/>
                                 <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0.6</cn>
                                 <ci>v</ci>
                              </apply>
                              <ci>v_max</ci>
                           </apply>
                        </apply>
                     </apply>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">2</cn>
                  </apply>
               </apply>
            </apply>
         </apply>
         <apply>
            <eq/>
            <ci>case_3</ci>
            <apply>
               <divide/>
               <apply>
                  <plus/>
                  <apply>
                     <times/>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0.4</cn>
                     <ci>a</ci>
                  </apply>
                  <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
               </apply>
               <apply>
                  <times/>
                  <ci>a</ci>
                  <ci>v_max</ci>
               </apply>
            </apply>
         </apply>
         <apply>
            <eq/>
            <ci>case_4</ci>
            <apply>
               <times/>
               <apply>
                  <divide/>
                  <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                  <ci>v_max</ci>
               </apply>
               <apply>
                  <exp/>
                  <apply>
                     <times/>
                     <apply>
                        <minus/>
                        <ci>alpha_G</ci>
                     </apply>
                     <apply>
                        <power/>
                        <apply>
                           <minus/>
                           <apply>
                              <divide/>
                              <ci>v</ci>
                              <ci>v_max</ci>
                           </apply>
                           <apply>
                              <divide/>
                              <ci>v_1</ci>
                              <ci>v_max</ci>
                           </apply>
                        </apply>
                        <ci>alpha_P</ci>
                     </apply>
                  </apply>
               </apply>
               <apply>
                  <plus/>
                  <apply>
                     <divide/>
                     <apply>
                        <plus/>
                        <apply>
                           <times/>
                           <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0.4</cn>
                           <ci>a</ci>
                        </apply>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                     </apply>
                     <ci>a</ci>
                  </apply>
                  <apply>
                     <times/>
                     <ci>alpha_G</ci>
                     <ci>alpha_P</ci>
                     <apply>
                        <plus/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                        <apply>
                           <divide/>
                           <apply>
                              <times/>
                              <apply>
                                 <plus/>
                                 <apply>
                                    <times/>
                                    <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0.4</cn>
                                    <ci>a</ci>
                                 </apply>
                                 <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                              </apply>
                              <ci>v</ci>
                           </apply>
                           <apply>
                              <times/>
                              <ci>a</ci>
                              <ci>v_max</ci>
                           </apply>
                        </apply>
                     </apply>
                     <apply>
                        <power/>
                        <apply>
                           <minus/>
                           <apply>
                              <divide/>
                              <ci>v</ci>
                              <ci>v_max</ci>
                           </apply>
                           <apply>
                              <divide/>
                              <ci>v_1</ci>
                              <ci>v_max</ci>
                           </apply>
                        </apply>
                        <apply>
                           <minus/>
                           <ci>alpha_P</ci>
                           <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                        </apply>
                     </apply>
                  </apply>
               </apply>
            </apply>
         </apply>
         <apply>
            <eq/>
            <ci>p_v</ci>
            <apply>
               <divide/>
               <ci>P_star</ci>
               <ci>G_star</ci>
            </apply>
         </apply>
         <apply>
            <eq/>
            <ci>p_prime_v</ci>
            <piecewise>
               <piece>
                  <ci>case_1</ci>
                  <apply>
                     <leq/>
                     <ci>v</ci>
                     <apply>
                        <minus/>
                        <ci>v_max</ci>
                     </apply>
                  </apply>
               </piece>
               <piece>
                  <ci>case_2</ci>
                  <apply>
                     <and/>
                     <apply>
                        <lt/>
                        <apply>
                           <minus/>
                           <ci>v_max</ci>
                        </apply>
                        <ci>v</ci>
                     </apply>
                     <apply>
                        <leq/>
                        <ci>v</ci>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="um_per_msec">0</cn>
                     </apply>
                  </apply>
               </piece>
               <piece>
                  <ci>case_3</ci>
                  <apply>
                     <and/>
                     <apply>
                        <lt/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="um_per_msec">0</cn>
                        <ci>v</ci>
                     </apply>
                     <apply>
                        <leq/>
                        <ci>v</ci>
                        <ci>v_1</ci>
                     </apply>
                  </apply>
               </piece>
               <otherwise>
                  <ci>case_4</ci>
               </otherwise>
            </piecewise>
         </apply>
      </math>
   </component>
   <component name="calcium_handling">
      <variable initial_value="0.01" name="A" public_interface="out" units="dimensionless"/>
      <variable name="dA_dt" units="per_millisecond"/>
      <variable name="N_A" units="dimensionless"/>
      <variable name="pi_N_A" units="dimensionless"/>
      <variable cmeta:id="calcium_handling_B" initial_value="0" name="B" public_interface="out" units="dimensionless"/>
      <variable name="dB_dt" units="per_millisecond"/>
      <variable initial_value="0" name="Ca_C" public_interface="out" units="dimensionless"/>
      <variable name="time" public_interface="in" units="millisecond"/>
      <variable name="N" public_interface="in" units="dimensionless"/>
      <variable name="a_on" public_interface="in" units="per_millisecond"/>
      <variable name="a_off" public_interface="in" units="per_millisecond"/>
      <variable name="k_A" public_interface="in" units="dimensionless"/>
      <variable name="L_oz" public_interface="in" units="dimensionless"/>
      <variable initial_value="1" name="A_tot" units="dimensionless"/>
      <variable initial_value="0.4" name="B_tot" units="dimensionless"/>
      <variable initial_value="2.6" name="b_on" units="per_millisecond"/>
      <variable initial_value="0.182" name="b_off" units="per_millisecond"/>
      <variable initial_value="0.0052" name="a_c" units="per_millisecond2"/>
      <variable initial_value="0.65" name="r_Ca" units="per_millisecond"/>
      <variable initial_value="50" name="q_Ca" units="dimensionless"/>
      <variable initial_value="33" name="t_d" units="millisecond"/>
      <variable initial_value="0.03" name="Ca_m" units="dimensionless"/>
      <math xmlns="http://www.w3.org/1998/Math/MathML">
         <apply>
            <eq/>
            <ci>N_A</ci>
            <apply>
               <divide/>
               <ci>N</ci>
               <apply>
                  <times/>
                  <ci>L_oz</ci>
                  <ci>A</ci>
               </apply>
            </apply>
         </apply>
         <apply>
            <eq/>
            <ci>pi_N_A</ci>
            <piecewise>
               <piece>
                  <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                  <apply>
                     <geq/>
                     <ci>N_A</ci>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                  </apply>
               </piece>
               <otherwise>
                  <apply>
                     <power/>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">0.02</cn>
                     <ci>N_A</ci>
                  </apply>
               </otherwise>
            </piecewise>
         </apply>
         <apply>
            <eq/>
            <ci>dA_dt</ci>
            <apply>
               <minus/>
               <apply>
                  <times/>
                  <ci>a_on</ci>
                  <apply>
                     <minus/>
                     <ci>A_tot</ci>
                     <ci>A</ci>
                  </apply>
                  <ci>Ca_C</ci>
               </apply>
               <apply>
                  <times/>
                  <ci>a_off</ci>
                  <apply>
                     <exp/>
                     <apply>
                        <times/>
                        <apply>
                           <minus/>
                           <ci>k_A</ci>
                        </apply>
                        <ci>A</ci>
                     </apply>
                  </apply>
                  <ci>pi_N_A</ci>
                  <ci>A</ci>
               </apply>
            </apply>
         </apply>
         <apply>
            <eq/>
            <apply>
               <diff/>
               <bvar>
                  <ci>time</ci>
               </bvar>
               <ci>A</ci>
            </apply>
            <ci>dA_dt</ci>
         </apply>
         <apply>
            <eq/>
            <ci>dB_dt</ci>
            <apply>
               <minus/>
               <apply>
                  <times/>
                  <ci>b_on</ci>
                  <apply>
                     <minus/>
                     <ci>B_tot</ci>
                     <ci>B</ci>
                  </apply>
                  <ci>Ca_C</ci>
               </apply>
               <apply>
                  <times/>
                  <ci>b_off</ci>
                  <ci>B</ci>
               </apply>
            </apply>
         </apply>
         <apply>
            <eq/>
            <apply>
               <diff/>
               <bvar>
                  <ci>time</ci>
               </bvar>
               <ci>B</ci>
            </apply>
            <ci>dB_dt</ci>
         </apply>
         <apply>
            <eq/>
            <apply>
               <diff/>
               <bvar>
                  <ci>time</ci>
               </bvar>
               <ci>Ca_C</ci>
            </apply>
            <piecewise>
               <piece>
                  <apply>
                     <times/>
                     <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">4</cn>
                     <ci>a_c</ci>
                     <ci>Ca_m</ci>
                     <ci>time</ci>
                     <apply>
                        <minus/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">1</cn>
                        <apply>
                           <exp/>
                           <apply>
                              <times/>
                              <apply>
                                 <minus/>
                                 <ci>a_c</ci>
                              </apply>
                              <apply>
                                 <power/>
                                 <ci>time</ci>
                                 <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">2</cn>
                              </apply>
                           </apply>
                        </apply>
                     </apply>
                     <apply>
                        <exp/>
                        <apply>
                           <times/>
                           <apply>
                              <minus/>
                              <ci>a_c</ci>
                           </apply>
                           <apply>
                              <power/>
                              <ci>time</ci>
                              <cn xmlns:cellml="http://www.cellml.org/cellml/1.0#" cellml:units="dimensionless">2</cn>
                           </apply>
                        </apply>
                     </apply>
                  </apply>
                  <apply>
                     <lt/>
                     <ci>time</ci>
                     <ci>t_d</ci>
                  </apply>
               </piece>
               <otherwise>
                  <apply>
                     <minus/>
                     <apply>
                        <minus/>
                        <apply>
                           <minus/>
                           <ci>dA_dt</ci>
                        </apply>
                        <ci>dB_dt</ci>
                     </apply>
                     <apply>
                        <times/>
                        <ci>r_Ca</ci>
                        <apply>
                           <exp/>
                           <apply>
                              <times/>
                              <apply>
                                 <minus/>
                                 <ci>q_Ca</ci>
                              </apply>
                              <ci>Ca_C</ci>
                           </apply>
                        </apply>
                        <ci>Ca_C</ci>
                     </apply>
                  </apply>
               </otherwise>
            </piecewise>
         </apply>
      </math>
   </component>
   <connection>
      <map_components component_1="environment" component_2="isotonic"/>
      <map_variables variable_1="time" variable_2="time"/>
   </connection>
   <connection>
      <map_components component_1="parameters" component_2="isotonic"/>
      <map_variables variable_1="isotonic" variable_2="isotonic"/>
   </connection>
   <connection>
      <map_components component_1="force" component_2="isotonic"/>
      <map_variables variable_1="F_muscle" variable_2="F_muscle"/>
   </connection>
   <connection>
      <map_components component_1="length" component_2="isotonic"/>
      <map_variables variable_1="isotonic_mode" variable_2="isotonic_mode"/>
      <map_variables variable_1="l" variable_2="l"/>
   </connection>
   <connection>
      <map_components component_1="PE_velocity" component_2="isotonic"/>
      <map_variables variable_1="isotonic_mode" variable_2="isotonic_mode"/>
   </connection>
   <connection>
      <map_components component_1="CE_velocity" component_2="isotonic"/>
      <map_variables variable_1="isotonic_mode" variable_2="isotonic_mode"/>
   </connection>
   <connection>
      <map_components component_1="environment" component_2="crossbridge_kinetics"/>
      <map_variables variable_1="time" variable_2="time"/>
   </connection>
   <connection>
      <map_components component_1="environment" component_2="length"/>
      <map_variables variable_1="time" variable_2="time"/>
   </connection>
   <connection>
      <map_components component_1="environment" component_2="CE_velocity"/>
      <map_variables variable_1="time" variable_2="time"/>
   </connection>
   <connection>
      <map_components component_1="environment" component_2="PE_velocity"/>
      <map_variables variable_1="time" variable_2="time"/>
   </connection>
   <connection>
      <map_components component_1="environment" component_2="calcium_handling"/>
      <map_variables variable_1="time" variable_2="time"/>
   </connection>
   <connection>
      <map_components component_1="parameters" component_2="parameters_izakov_et_al_1991"/>
      <map_variables variable_1="v_max" variable_2="v_max"/>
   </connection>
   <connection>
      <map_components component_1="force" component_2="parameters"/>
      <map_variables variable_1="alpha_1" variable_2="alpha_1"/>
      <map_variables variable_1="beta_1" variable_2="beta_1"/>
      <map_variables variable_1="alpha_2" variable_2="alpha_2"/>
      <map_variables variable_1="beta_2" variable_2="beta_2"/>
      <map_variables variable_1="alpha_3" variable_2="alpha_3"/>
      <map_variables variable_1="beta_3" variable_2="beta_3"/>
      <map_variables variable_1="lambda" variable_2="lambda"/>
   </connection>
   <connection>
      <map_components component_1="force" component_2="crossbridge_kinetics"/>
      <map_variables variable_1="N" variable_2="N"/>
   </connection>
   <connection>
      <map_components component_1="force" component_2="length"/>
      <map_variables variable_1="l_1" variable_2="l_1"/>
      <map_variables variable_1="l_2" variable_2="l_2"/>
      <map_variables variable_1="l_3" variable_2="l_3"/>
   </connection>
   <connection>
      <map_components component_1="force" component_2="CE_velocity"/>
      <map_variables variable_1="v" variable_2="v"/>
      <map_variables variable_1="k_P_vis" variable_2="k_P_vis"/>
   </connection>
   <connection>
      <map_components component_1="force" component_2="PE_velocity"/>
      <map_variables variable_1="w" variable_2="w"/>
      <map_variables variable_1="k_S_vis" variable_2="k_S_vis"/>
   </connection>
   <connection>
      <map_components component_1="force" component_2="average_crossbridge_force"/>
      <map_variables variable_1="p_v" variable_2="p_v"/>
   </connection>
   <connection>
      <map_components component_1="crossbridge_kinetics" component_2="parameters"/>
      <map_variables variable_1="A_half" variable_2="A_half"/>
      <map_variables variable_1="mu" variable_2="mu"/>
      <map_variables variable_1="chi" variable_2="chi"/>
      <map_variables variable_1="chi_0" variable_2="chi_0"/>
      <map_variables variable_1="m_0" variable_2="m_0"/>
   </connection>
   <connection>
      <map_components component_1="crossbridge_kinetics" component_2="calcium_handling"/>
      <map_variables variable_1="A" variable_2="A"/>
      <map_variables variable_1="N" variable_2="N"/>
      <map_variables variable_1="L_oz" variable_2="L_oz"/>
   </connection>
   <connection>
      <map_components component_1="crossbridge_kinetics" component_2="average_crossbridge_force"/>
      <map_variables variable_1="G_star" variable_2="G_star"/>
      <map_variables variable_1="P_star" variable_2="P_star"/>
   </connection>
   <connection>
      <map_components component_1="crossbridge_kinetics" component_2="length"/>
      <map_variables variable_1="l_1" variable_2="l_1"/>
   </connection>
   <connection>
      <map_components component_1="crossbridge_kinetics" component_2="CE_velocity"/>
      <map_variables variable_1="K_chi" variable_2="K_chi"/>
      <map_variables variable_1="v" variable_2="v"/>
      <map_variables variable_1="N" variable_2="N"/>
   </connection>
   <connection>
      <map_components component_1="crossbridge_kinetics" component_2="parameters_izakov_et_al_1991"/>
      <map_variables variable_1="S_0" variable_2="S_0"/>
      <map_variables variable_1="q_v" variable_2="q_v"/>
      <map_variables variable_1="v_star" variable_2="v_star"/>
      <map_variables variable_1="q_4" variable_2="q_4"/>
   </connection>
   <connection>
      <map_components component_1="length" component_2="CE_velocity"/>
      <map_variables variable_1="v" variable_2="v"/>
      <map_variables variable_1="phi_chi_2" variable_2="phi_chi_2"/>
      <map_variables variable_1="dl_1_dt" variable_2="dl_1_dt"/>
      <map_variables variable_1="l_1" variable_2="l_1"/>
      <map_variables variable_1="l_2" variable_2="l_2"/>
      <map_variables variable_1="l_3" variable_2="l_3"/>
   </connection>
   <connection>
      <map_components component_1="length" component_2="PE_velocity"/>
      <map_variables variable_1="w" variable_2="w"/>
      <map_variables variable_1="k_S_vis" variable_2="k_S_vis"/>
      <map_variables variable_1="dl_1_dt" variable_2="dl_1_dt"/>
      <map_variables variable_1="l_1" variable_2="l_1"/>
      <map_variables variable_1="dl_2_dt" variable_2="dl_2_dt"/>
      <map_variables variable_1="l_2" variable_2="l_2"/>
      <map_variables variable_1="l_3" variable_2="l_3"/>
   </connection>
   <connection>
      <map_components component_1="CE_velocity" component_2="parameters"/>
      <map_variables variable_1="alpha_1" variable_2="alpha_1"/>
      <map_variables variable_1="beta_1" variable_2="beta_1"/>
      <map_variables variable_1="alpha_2" variable_2="alpha_2"/>
      <map_variables variable_1="beta_2" variable_2="beta_2"/>
      <map_variables variable_1="alpha_3" variable_2="alpha_3"/>
      <map_variables variable_1="beta_3" variable_2="beta_3"/>
      <map_variables variable_1="lambda" variable_2="lambda"/>
   </connection>
   <connection>
      <map_components component_1="CE_velocity" component_2="parameters_izakov_et_al_1991"/>
      <map_variables variable_1="v" variable_2="v"/>
   </connection>
   <connection>
      <map_components component_1="CE_velocity" component_2="PE_velocity"/>
      <map_variables variable_1="v" variable_2="v"/>
      <map_variables variable_1="w" variable_2="w"/>
      <map_variables variable_1="k_S_vis" variable_2="k_S_vis"/>
      <map_variables variable_1="phi_chi" variable_2="phi_chi"/>
   </connection>
   <connection>
      <map_components component_1="PE_velocity" component_2="parameters"/>
      <map_variables variable_1="alpha_1" variable_2="alpha_1"/>
      <map_variables variable_1="beta_1" variable_2="beta_1"/>
      <map_variables variable_1="alpha_2" variable_2="alpha_2"/>
      <map_variables variable_1="beta_2" variable_2="beta_2"/>
      <map_variables variable_1="alpha_3" variable_2="alpha_3"/>
      <map_variables variable_1="beta_3" variable_2="beta_3"/>
      <map_variables variable_1="lambda" variable_2="lambda"/>
   </connection>
   <connection>
      <map_components component_1="average_crossbridge_force" component_2="parameters"/>
      <map_variables variable_1="v_max" variable_2="v_max"/>
      <map_variables variable_1="a" variable_2="a"/>
      <map_variables variable_1="d_h" variable_2="d_h"/>
      <map_variables variable_1="alpha_P" variable_2="alpha_P"/>
   </connection>
   <connection>
      <map_components component_1="average_crossbridge_force" component_2="parameters_izakov_et_al_1991"/>
      <map_variables variable_1="v_1" variable_2="v_1"/>
      <map_variables variable_1="alpha_G" variable_2="alpha_G"/>
   </connection>
   <connection>
      <map_components component_1="average_crossbridge_force" component_2="CE_velocity"/>
      <map_variables variable_1="v" variable_2="v"/>
      <map_variables variable_1="phi_chi" variable_2="phi_chi"/>
      <map_variables variable_1="p_v" variable_2="p_v"/>
      <map_variables variable_1="p_prime_v" variable_2="p_prime_v"/>
   </connection>
   <connection>
      <map_components component_1="calcium_handling" component_2="parameters_izakov_et_al_1991"/>
      <map_variables variable_1="a_on" variable_2="a_on"/>
      <map_variables variable_1="a_off" variable_2="a_off"/>
      <map_variables variable_1="k_A" variable_2="k_A"/>
   </connection>
</model>